(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{4677:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orderForm",function(){return r(9747)}])},1965:function(t,e,r){"use strict";r.d(e,{Z:function(){return z}});var n={};r.r(n),r.d(n,{addProductToCart:function(){return f},changeProductCount:function(){return p},getCart:function(){return d},removeProductFromCart:function(){return m}});var o={};r.r(o),r.d(o,{addProduct:function(){return C},getProducts:function(){return J}});var c={};r.r(c),r.d(c,{addOrder:function(){return F},getOrders:function(){return D}});var a={};r.r(a),r.d(a,{listenAuth:function(){return G},loginWithGoogle:function(){return Z},logout:function(){return A}});var u=r(1043),i=r(9569),s=function(t){return t.reduce((function(t,e){return t+e.subPrice}),0)},l=r(8674),d=function(){return function(t){var e=JSON.parse(localStorage.getItem("cart"));e||(localStorage.setItem("cart",JSON.stringify({products:[],totalPrice:0})),e={product:[],totalPrice:0}),t((0,l.hn)(e))}},f=function(t){return function(e){var r=JSON.parse(localStorage.getItem("cart"));r||(r={products:[],totalPrice:0});var n={item:t,count:1,subPrice:+t.price};r.products.push(n),r.totalPrice=s(r.products),localStorage.setItem("cart",JSON.stringify(r)),e((0,l.hn)(r))}},m=function(t){return function(e){var r=JSON.parse(localStorage.getItem("cart"));r||(r={products:[],totalPrice:0}),r.products=r.products.filter((function(e){return e.item.id!==t})),r.totalPrice=s(r.products),localStorage.setItem("cart",JSON.stringify(r)),e((0,l.hn)(r))}},p=function(t,e){return function(r){var n=JSON.parse(localStorage.getItem("cart"));n.products=n.products.map((function(r){return r.item.id===e&&(r.count=t,r.subPrice=function(t){return t.count*t.item.price}(r)),r})),n.totalPrice=s(n.products),localStorage.setItem("cart",JSON.stringify(n)),r((0,l.hn)(n))}},g=r(4051),h=r.n(g),v=r(6257),b=r(5503),x=r(5762),y=r(7702),w=(0,b.ZF)({apiKey:"AIzaSyDe0Xh3TGYpgEyEy3wvTxzZLRLmj5DY-Ww",authDomain:"cocossbrand.firebaseapp.com",projectId:"cocossbrand",storageBucket:"cocossbrand.appspot.com",messagingSenderId:"948339176307",appId:"1:948339176307:web:11521655b61456b49c8b06",measurementId:"G-HDQPFWTWFJ"}),N=(0,y.v0)(w),j=(0,v.ad)(w),O=((0,x.IH)(w),(0,v.hJ)(j,"dress")),P=(0,v.hJ)(j,"order"),S=r(3791);function k(t,e,r,n,o,c,a){try{var u=t[c](a),i=u.value}catch(s){return void r(s)}u.done?e(i):Promise.resolve(i).then(n,o)}function I(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var c=t.apply(e,r);function a(t){k(c,n,o,a,u,"next",t)}function u(t){k(c,n,o,a,u,"throw",t)}a(void 0)}))}}var J=function(){return function(){var t=I(h().mark((function t(e){var r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e((0,S.Qu)()),t.next=4,(0,v.PL)(O);case 4:r=t.sent,console.log(r),e((0,S.Oo)(r.docs)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e((0,S.TQ)(JSON.stringify(t.t0)));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},C=function(t){return function(){var e=I(h().mark((function e(r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.ET)(O,t);case 3:r(J()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r((0,S.TQ)(JSON.stringify(e.t0)));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},E=r(5296);function T(t,e,r,n,o,c,a){try{var u=t[c](a),i=u.value}catch(s){return void r(s)}u.done?e(i):Promise.resolve(i).then(n,o)}function _(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var c=t.apply(e,r);function a(t){T(c,n,o,a,u,"next",t)}function u(t){T(c,n,o,a,u,"throw",t)}a(void 0)}))}}var D=function(){return function(){var t=_(h().mark((function t(e){var r,n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(0,v.IO)(P,(0,v.Xo)("date")),e((0,E.NF)()),t.next=5,(0,v.PL)(r);case 5:n=t.sent,e((0,E.w_)(n.docs)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e((0,E.jK)(JSON.stringify(t.t0)));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},F=function(t){return function(){var e=_(h().mark((function e(r){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.ET)(P,t);case 3:n=e.sent,console.log("Document written with ID: ",n.id),r(D()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r((0,E.jK)(JSON.stringify(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},q=r(7294),L=r(8726);function Q(t,e,r,n,o,c,a){try{var u=t[c](a),i=u.value}catch(s){return void r(s)}u.done?e(i):Promise.resolve(i).then(n,o)}function W(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var c=t.apply(e,r);function a(t){Q(c,n,o,a,u,"next",t)}function u(t){Q(c,n,o,a,u,"throw",t)}a(void 0)}))}}var X=new y.hJ,Z=function(){return function(){var t=W(h().mark((function t(e){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,y.rh)(N,X);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e((0,L.yT)(JSON.stringify(t.t0)));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},A=function(){return function(){var t=W(h().mark((function t(e){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,y.w7)(N);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e((0,L.yT)(JSON.stringify(t.t0)));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},G=function(){return function(){var t=W(h().mark((function t(e){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,q.useEffect)((function(){(0,y.Aj)(N,(function(t){e((0,L.Fi)(t))}))}),[]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function K(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var R=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){K(t,e,r[e])}))}return t}({},n,o,c,a),z=function(){var t=(0,u.I0)();return(0,i.DE)(R,t)}},9747:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return l}});var n=r(5893),o=r(7294),c=r(1163),a=r(1965);function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){u(t,e,r[e])}))}return t}var s=function(){var t=(0,a.Z)(),e=t.getCart,r=t.addOrder,s=(0,o.useRef)({}),l=(0,c.useRouter)(),d=function(t){var e=i({},s.current,u({},t.target.name,t.target.value));s.current=e,console.log(e)};return(0,n.jsx)("div",{className:"mt-10 sm:mt-0",children:(0,n.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[(0,n.jsx)("div",{className:"md:col-span-1",children:(0,n.jsx)("div",{className:"px-4 sm:px-0",children:(0,n.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Personal Information"})})}),(0,n.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:(0,n.jsx)("form",{onSubmit:function(t){return function(t){t.preventDefault();var n=i({},JSON.parse(localStorage.getItem("cart")),{userInfo:i({},s.current),date:(new Date).toString().split(" ").slice(0,5).join(" ")});r(n),localStorage.removeItem("cart"),e(),l.push("checkout")}(t)},method:"POST",children:(0,n.jsxs)("div",{className:"shadow overflow-hidden sm:rounded-md",children:[(0,n.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"\u0418\u043c\u044f"}),(0,n.jsx)("input",{onChange:function(t){return d(t)},type:"text",name:"firstName",id:"first-name",placeholder:"\u0421\u0430\u043d\u0436\u0430\u0440",required:!0,autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[(0,n.jsx)("label",{htmlFor:"phone-number",className:"block text-sm font-medium text-gray-700",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),(0,n.jsx)("input",{onChange:function(t){return d(t)},type:"text",required:!0,pattern:"[0-9]{3}[0-9]{3}[0-9]{3}",placeholder:"700000500",name:"phoneNumber",id:"phone-number",autoComplete:"given-number",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-6 lg:col-span-2",children:[(0,n.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"\u0413\u043e\u0440\u043e\u0434"}),(0,n.jsx)("input",{onChange:function(t){return d(t)},type:"text",name:"city",id:"city",required:!0,placeholder:"\u0411\u0438\u0448\u043a\u0435\u043a",autoComplete:"address-level2",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,n.jsxs)("div",{className:"col-span-6",children:[(0,n.jsx)("label",{htmlFor:"street-address",className:"block text-sm font-medium text-gray-700",children:"\u0410\u0434\u0440\u0435\u0441"}),(0,n.jsx)("input",{onChange:function(t){return d(t)},type:"text",name:"address",required:!0,placeholder:"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442 \u0427\u0443\u0439, 92",id:"street-address",autoComplete:"street-address",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})}),(0,n.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[(0,n.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 w-full border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"}),(0,n.jsx)("button",{onClick:function(){return l.back()},type:"button",className:"inline-flex justify-center py-2 px-4 w-full border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-400 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300 mt-1",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})})]})})},l=function(){return(0,n.jsx)(s,{})}}},function(t){t.O(0,[16,120,947,774,888,179],(function(){return e=4677,t(t.s=e);var e}));var e=t.O();_N_E=e}]);