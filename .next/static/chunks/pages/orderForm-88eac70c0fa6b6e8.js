(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{4677:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orderForm",function(){return r(9747)}])},1965:function(e,t,r){"use strict";r.d(t,{Z:function(){return Y}});var n={};r.r(n),r.d(n,{addProductToCart:function(){return f},changeProductCount:function(){return p},getCart:function(){return d},removeProductFromCart:function(){return m}});var o={};r.r(o),r.d(o,{addProduct:function(){return T},getProducts:function(){return E}});var c={};r.r(c),r.d(c,{addOrder:function(){return L},getOrders:function(){return q}});var u={};r.r(u),r.d(u,{listenAuth:function(){return R},loginWithGoogle:function(){return G},logout:function(){return K}});var a=r(1043),i=r(9569),s=function(e){return e.reduce((function(e,t){return e+t.subPrice}),0)},l=r(8674),d=function(){return function(e){var t=JSON.parse(localStorage.getItem("cart"));t||(localStorage.setItem("cart",JSON.stringify({products:[],totalPrice:0})),t={product:[],totalPrice:0}),e((0,l.hn)(t))}},f=function(e){return function(t){var r=JSON.parse(localStorage.getItem("cart"));r||(r={products:[],totalPrice:0});var n={item:e,count:1,subPrice:+e.price};r.products.push(n),r.totalPrice=s(r.products),localStorage.setItem("cart",JSON.stringify(r)),t((0,l.hn)(r))}},m=function(e){return function(t){var r=JSON.parse(localStorage.getItem("cart"));r||(r={products:[],totalPrice:0}),r.products=r.products.filter((function(t){return t.item.id!==e})),r.totalPrice=s(r.products),localStorage.setItem("cart",JSON.stringify(r)),t((0,l.hn)(r))}},p=function(e,t){return function(r){var n=JSON.parse(localStorage.getItem("cart"));n.products=n.products.map((function(r){return r.item.id===t&&(r.count=e,r.subPrice=function(e){return e.count*e.item.price}(r)),r})),n.totalPrice=s(n.products),localStorage.setItem("cart",JSON.stringify(n)),r((0,l.hn)(n))}},h=r(4051),g=r.n(h),v=r(6257),b=r(5503),x=r(5762),y=r(7702),w=(0,b.ZF)({apiKey:"AIzaSyDe0Xh3TGYpgEyEy3wvTxzZLRLmj5DY-Ww",authDomain:"cocossbrand.firebaseapp.com",projectId:"cocossbrand",storageBucket:"cocossbrand.appspot.com",messagingSenderId:"948339176307",appId:"1:948339176307:web:11521655b61456b49c8b06",measurementId:"G-HDQPFWTWFJ"}),j=(0,y.v0)(w),N=(0,v.ad)(w),O=((0,x.IH)(w),(0,v.hJ)(N,"dress")),P=(0,v.hJ)(N,"order"),S=r(3791);function k(e,t,r,n,o,c,u){try{var a=e[c](u),i=a.value}catch(s){return void r(s)}a.done?t(i):Promise.resolve(i).then(n,o)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var c=e.apply(t,r);function u(e){k(c,n,o,u,a,"next",e)}function a(e){k(c,n,o,u,a,"throw",e)}u(void 0)}))}}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){J(e,t,r[t])}))}return e}var E=function(){return function(){var e=I(g().mark((function e(t){var r,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t((0,S.Qu)()),e.next=4,(0,v.PL)(O);case 4:r=e.sent,n=[],r.forEach((function(e){n.push(C({id:e.id},e.data()))})),t((0,S.Oo)(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t((0,S.TQ)(JSON.stringify(e.t0)));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=I(g().mark((function t(r){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,v.ET)(O,e);case 3:r(E()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r((0,S.TQ)(JSON.stringify(t.t0)));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},_=r(5296);function F(e,t,r,n,o,c,u){try{var a=e[c](u),i=a.value}catch(s){return void r(s)}a.done?t(i):Promise.resolve(i).then(n,o)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var c=e.apply(t,r);function u(e){F(c,n,o,u,a,"next",e)}function a(e){F(c,n,o,u,a,"throw",e)}u(void 0)}))}}var q=function(){return function(){var e=D(g().mark((function e(t){var r,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,v.IO)(P,(0,v.Xo)("date")),t((0,_.NF)()),e.next=5,(0,v.PL)(r);case 5:n=e.sent,t((0,_.w_)(n.docs.reverse())),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t((0,_.jK)(JSON.stringify(e.t0)));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return function(){var t=D(g().mark((function t(r){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,v.ET)(P,e);case 3:t.sent,r(q()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r((0,_.jK)(JSON.stringify(t.t0)));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Q=r(7294),W=r(8726);function X(e,t,r,n,o,c,u){try{var a=e[c](u),i=a.value}catch(s){return void r(s)}a.done?t(i):Promise.resolve(i).then(n,o)}function Z(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var c=e.apply(t,r);function u(e){X(c,n,o,u,a,"next",e)}function a(e){X(c,n,o,u,a,"throw",e)}u(void 0)}))}}var A=new y.hJ,G=function(){return function(){var e=Z(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.rh)(j,A);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t((0,W.yT)(JSON.stringify(e.t0)));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},K=function(){return function(){var e=Z(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.w7)(j);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t((0,W.yT)(JSON.stringify(e.t0)));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},R=function(){return function(){var e=Z(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,Q.useEffect)((function(){(0,y.Aj)(j,(function(e){t((0,W.Fi)(e))}))}),[]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){z(e,t,r[t])}))}return e}({},n,o,c,u),Y=function(){var e=(0,a.I0)();return(0,i.DE)(H,e)}},9747:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(5893),o=r(7294),c=r(1163),u=r(1965);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}var s=function(){var e=(0,u.Z)(),t=e.getCart,r=e.addOrder,s=(0,o.useRef)({}),l=(0,c.useRouter)(),d=function(e){var t=i({},s.current,a({},e.target.name,e.target.value));s.current=t};return(0,n.jsx)("div",{className:"mt-10 sm:mt-0",children:(0,n.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[(0,n.jsx)("div",{className:"md:col-span-1",children:(0,n.jsx)("div",{className:"px-4 sm:px-0",children:(0,n.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Personal Information"})})}),(0,n.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:(0,n.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault();var n=i({},JSON.parse(localStorage.getItem("cart")),{userInfo:i({},s.current),date:(new Date).toString().split(" ").slice(0,5).join(" ")});r(n),localStorage.removeItem("cart"),t(),l.push("checkout")}(e)},method:"POST",children:(0,n.jsxs)("div",{className:"shadow overflow-hidden sm:rounded-md",children:[(0,n.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"\u0418\u043c\u044f"}),(0,n.jsx)("input",{onChange:function(e){return d(e)},type:"text",name:"firstName",id:"first-name",placeholder:"\u0421\u0430\u043d\u0436\u0430\u0440",required:!0,autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[(0,n.jsx)("label",{htmlFor:"phone-number",className:"block text-sm font-medium text-gray-700",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),(0,n.jsx)("input",{onChange:function(e){return d(e)},type:"text",required:!0,pattern:"[0-9]{3}[0-9]{3}[0-9]{3}",placeholder:"700000500",name:"phoneNumber",id:"phone-number",autoComplete:"given-number",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-6 lg:col-span-2",children:[(0,n.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"\u0413\u043e\u0440\u043e\u0434"}),(0,n.jsx)("input",{onChange:function(e){return d(e)},type:"text",name:"city",id:"city",required:!0,placeholder:"\u0411\u0438\u0448\u043a\u0435\u043a",autoComplete:"address-level2",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,n.jsxs)("div",{className:"col-span-6",children:[(0,n.jsx)("label",{htmlFor:"street-address",className:"block text-sm font-medium text-gray-700",children:"\u0410\u0434\u0440\u0435\u0441"}),(0,n.jsx)("input",{onChange:function(e){return d(e)},type:"text",name:"address",required:!0,placeholder:"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442 \u0427\u0443\u0439, 92",id:"street-address",autoComplete:"street-address",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})}),(0,n.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[(0,n.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 w-full border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"}),(0,n.jsx)("button",{onClick:function(){return l.back()},type:"button",className:"inline-flex justify-center py-2 px-4 w-full border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-400 hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300 mt-1",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})})]})})},l=function(){return(0,n.jsx)(s,{})}}},function(e){e.O(0,[16,120,947,774,888,179],(function(){return t=4677,e(e.s=t);var t}));var t=e.O();_N_E=t}]);